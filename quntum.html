<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Photonics Calculator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: Arial, sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding: 0;
        }
        .main-container {
            max-width: 850px;
            margin: 0;
            padding: 24px 10px 40px 10px;
            text-align: center;
        }
        nav {
            background: #333;
            padding: 10px 0 10px 0;
            margin-bottom: 28px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }
        nav .nav-inner {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }
        nav a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 1rem;
            transition: color 0.2s;
        }
        nav a:hover {
            color: #ffd700;
        }
        .equation-box {
            box-sizing: border-box;
            width: 100%;
            max-width: 650px;
            margin: 28px auto 28px auto;
            background: #fff;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 12px rgba(0,0,0,0.07);
            padding: 24px 20px 20px 20px;
            border-radius: 12px;
            text-align: center;
        }
        .equation-box h2 {
            margin-top: 0;
            font-size: 1.25em;
            color: #2c3e50;
        }
        .input-row {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
            margin-bottom: 10px;
        }
        .input-row label {
            font-weight: 500;
        }
        input[type=number] {
            margin: 0 8px 0 0;
            width: 120px;
            padding: 6px 8px;
            border: 1px solid #bbb;
            border-radius: 4px;
            font-size: 1em;
        }
        button {
            padding: 8px 18px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            margin-top: 8px;
            transition: background 0.2s;
        }
        button:hover {
            background: #388e3c;
        }
        .result {
            color: #1565c0;
            font-weight: bold;
            margin-top: 10px;
            font-size: 1.08em;
        }
        canvas {
            width: 100% !important;
            height: auto !important;
            max-width: 100vw;
            background: #f8fafc;
            border-radius: 8px;
            margin-top: 16px;
            box-shadow: 0 1px 6px rgba(0,0,0,0.04);
        }
        @media (max-width: 700px) {
            .main-container {
                padding: 8px 2px 24px 2px;
            }
            .equation-box {
                padding: 12px 6px 12px 6px;
                font-size: 0.97rem;
            }
            canvas {
                min-height: 120px;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-inner">
            <a href="enteglment.html">Entanglement</a>
            <a href="exemple10particuls.html">10 Particles</a>
            <a href="quntum.html">Photonics</a>
            <a href="coords_benchmark.html">Coords Benchmark</a>
        </div>
    </nav>
    <div class="main-container">
        <h1 style="text-align:center; margin: 0 0 30px 0; color:#222;">Quantum Photonics Equations</h1>

        <!-- Planck's Law -->
        <div class="equation-box">
            <h2>Planck's Energy Equation</h2>
            <div>\[ E = h \cdot f \]</div>
            <div class="input-row">
                <label for="frequency">Frequency (Hz):</label>
                <input type="number" id="frequency" value="5e14">
            </div>
            <button onclick="calculatePlanck()">Calculate Energy</button>
            <div class="result" id="planckResult"></div>
        </div>

        <!-- Einstein's Photoelectric Effect -->
        <div class="equation-box">
            <h2>Einstein's Photon Energy</h2>
            <div>\[ E = h \cdot \nu \]</div>
            <div class="input-row">
                <label for="wavelength">Wavelength (nm):</label>
                <input type="number" id="wavelength" value="500">
            </div>
            <button onclick="calculateEinstein()">Calculate Photon Energy</button>
            <div class="result" id="einsteinResult"></div>
        </div>

        <!-- Schrödinger Equation (Simplified) -->
        <div class="equation-box">
            <h2>Schrödinger Wave Equation</h2>
            <div>
                \[ \psi(x) = A \cdot e^{-x^2/(2\sigma^2)} \]
                \[ |\psi|^2 = A^2 \cdot e^{-x^2/\sigma^2} \]
            </div>
            <div class="input-row">
                <label for="position">Position (nm):</label>
                <input type="number" id="position" value="0">
                <label for="sigma">Width Parameter σ (nm):</label>
                <input type="number" id="sigma" value="1">
                <label for="amplitude">Amplitude A:</label>
                <input type="number" id="amplitude" value="1" step="0.1">
            </div>
            <button onclick="calculateSchrodinger()">Calculate Probability Density</button>
            <div class="result" id="schrodingerResult"></div>
        </div>

        <h1 style="text-align:center; margin: 40px 0 18px 0; color:#222; font-size:1.35em;">Time-Dependent Schrödinger Equation</h1>

        <!-- Schrödinger Equation -->
        <div class="equation-box">
            <h2>Time-Dependent Schrödinger Equation</h2>
            <div>
                \[ i\hbar \frac{\partial}{\partial t} \Psi(x, t) = \hat{H} \Psi(x, t) \]
            </div>
            <div class="input-row">
                <label for="initialPosition">Initial Position (nm):</label>
                <input type="number" id="initialPosition" value="0">
                <label for="initialWidth">Initial Width (nm):</label>
                <input type="number" id="initialWidth" value="1">
                <label for="timeStep">Time Step (fs):</label>
                <input type="number" id="timeStep" value="0.1">
            </div>
            <button onclick="solveSchrodinger()">Solve Schrödinger Equation</button>
            <div class="result" id="schrodingerResult"></div>
            <canvas id="wavefunctionCanvas" width="600" height="300"></canvas>
        </div>
    </div>

    <script>
        const hbar = 1.0545718e-34; // Reduced Planck's constant (ħ)
        const m = 9.10938356e-31;   // Electron mass (kg)
        const nm = 1e-9;            // Nanometer to meter conversion
        const fs = 1e-15;           // Femtosecond to second conversion

        const canvas = document.getElementById('wavefunctionCanvas');
        const ctx = canvas.getContext('2d');

        function solveSchrodinger() {
            const x0 = parseFloat(document.getElementById('initialPosition').value) * nm; // Initial position
            const σ = parseFloat(document.getElementById('initialWidth').value) * nm;     // Initial width
            const dt = parseFloat(document.getElementById('timeStep').value) * fs;       // Time step

            // Initialize wavefunction (Gaussian wave packet)
            const N = 600; // Number of spatial points
            const dx = 0.1 * nm; // Spatial step
            const x = Array.from({ length: N }, (_, i) => (i - N / 2) * dx); // Spatial grid
            let Ψ = x.map(xi => Math.exp(-((xi - x0) ** 2) / (2 * σ ** 2))); // Initial wavefunction

            // Normalize wavefunction
            const norm = Math.sqrt(Ψ.reduce((sum, psi) => sum + Math.abs(psi) ** 2, 0) * dx);
            Ψ = Ψ.map(psi => psi / norm);

            // Time evolution (simplified)
            const steps = 100; // Number of time steps
            for (let step = 0; step < steps; step++) {
                // Update wavefunction (simple free-particle evolution)
                Ψ = Ψ.map((psi, i) => {
                    const d2ψdx2 = (Ψ[i + 1] - 2 * psi + Ψ[i - 1]) / (dx ** 2); // Second derivative
                    return psi + (1 * i * hbar / (2 * m)) * d2ψdx2 * dt; // Time evolution
                });
            }

            // Plot wavefunction
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 2);
            x.forEach((xi, i) => {
                const y = canvas.height / 2 - 100 * Math.abs(Ψ[i]) ** 2;
                ctx.lineTo((xi / (N * dx)) * canvas.width, y);
            });
            ctx.strokeStyle = 'blue';
            ctx.stroke();

            document.getElementById('schrodingerResult').innerHTML =
                `Wavefunction evolved over ${steps} time steps.`;
        }
    </script>
</body>
</html>